name: Deploy All Services

on:
  workflow_dispatch:
    inputs:
      service:
        description: 'Service to deploy'
        required: true
        default: 'all'
        type: choice
        options:
        - all
        - agentA
        - agentB
        - kafka

jobs:
  deploy-agentA:
    if: github.event.inputs.service == 'all' || github.event.inputs.service == 'agentA'
    uses: ./.github/workflows/deploy-agentA.yml

  deploy-agentB:
    if: github.event.inputs.service == 'all' || github.event.inputs.service == 'agentB'
    uses: ./.github/workflows/deploy-agentB.yml

  deploy-kafka:
    if: github.event.inputs.service == 'all' || github.event.inputs.service == 'kafka'
    uses: ./.github/workflows/deploy-kafka.yml